<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <title>BlackRock Health</title>
  <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.cyan-light_blue.min.css">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.js"></script>
  <link rel="stylesheet" type="text/css"
    href="https://cdn.rawgit.com/FreddyFY/material-datepicker/master/dist/material-datepicker.css">
  <script type="text/javascript" src="https://momentjs.com/downloads/moment-with-locales.min.js"></script>
  <script type="text/javascript"
    src="https://cdn.rawgit.com/FreddyFY/material-datepicker/master/dist/material-datepicker.min.js"></script>
</head>

<body>
  <div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
    <header class="demo-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
      <div class="mdl-layout__header-row">
        <span class="mdl-layout-title">BlackRock Health Monitoring System</span>
        <div class="mdl-layout-spacer"></div>
      </div>
    </header>
    <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
      <header class="demo-drawer-header">
        <img src="{{ url_for('static', filename='images/user.jpg') }}" class="demo-avatar">
        <div class="demo-avatar-dropdown">
          <span>Health@BlackRock.com</span>
        </div>
      </header>

      <nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800">
        <a class="mdl-navigation__link" href="{{ url_for('index') }}"><i
            class="mdl-color-text--blue-grey-400 material-icons" role="presentation">home</i>Home</a>

        <a class="mdl-navigation__link" href="{{ url_for('settings') }}"><i
            class="mdl-color-text--blue-grey-400 material-icons" role="presentation">settings</i>Settings</a>

        <a class="mdl-navigation__link" href="{{ url_for('about') }}"><i
            class="mdl-color-text--blue-grey-400 material-icons" role="presentation">help_outline</i>About</a>
        
        <a class="mdl-navigation__link" href="{{ url_for('maps') }}"><i
            class="mdl-color-text--blue-grey-400 material-icons" role="presentation">sentiment_satisfied</i>Emotions Tracker</a>
      </nav>

    </div>
    <main class="mdl-layout__content">
      <div class="page-content">
        <div class="mdl-grid">

          <div class="mdl-color--white mdl-cell mdl-cell--12-col mdl-card--border">
            <div class="mdl-card__title">
              <h2 class="mdl-card__title-text">
                <font size="7" face="Helvetica"><b>Dashboard</b></font>
            </div>
            <div class="mdl-layout-spacer"></div>
          </div>

          <div class="mdl-color--grey-100 mdl-color-text--blue-grey-400 mdl-cell mdl-cell--12-col mdl-card--border">
            <div class="mdl-card__title">
              <h2 class="mdl-card__title-text mdl-color-text--blue-grey-400">
                <font size="5" face="Helvetica" color="#a13826"><b>My Active Time</b></font>
            </div>
            <div>
              <table style="width:100%">
                <tr>
                  <th>
                    <font size="7" face="Helvetica" color="black">{{ startTime }}</font>
                  </th>
                  <th>
                    <font size="7" face="Helvetica" color="black">{{ endTime }}</font>
                  </th>
                  <th>
                    <font size="7" face="Helvetica" color="black">{{ totalTime }}</font>
                  </th>
                  <th>
                    <font size="7" face="Helvetica" color="black">{{ activeTime }}</font>
                  </th>
                </tr>
                <tr>
                </tr>
                <tr>
                  <th>
                    <font size="2" face="Helvetica">Start Time</font>
                  </th>
                  <th>
                    <font size="2" face="Helvetica">End Time</font>
                  </th>
                  <th>
                    <font size="2" face="Helvetica">Logged In Time</font>
                  </th>
                  <th>
                    <font size="2" face="Helvetica">Active Time</font>
                  </th>
                </tr>
                <tr>
                </tr>
                <tr>
                </tr>
              </table>
            </div>
          </div>

          <div class="mdl-color--grey-100 mdl-color-text--blue-grey-400 mdl-cell mdl-cell--4-col mdl-card--border">
            <div class="mdl-card__title">
              <h2 class="mdl-card__title-text mdl-color-text--blue-grey-400">
                <font size="5" face="Helvetica" color="#a13826"><b>My Eye Health</b></font>
            </div>
            <div>
              <table style="width:100%">
                <tr>
                  <th>
                    <font size="7" face="Helvetica" color="black">23</font>
                  </th>
                </tr>
                <tr>
                </tr>
                <tr>
                  <th>
                    <font size="2" face="Helvetica">Blink Rate Per Minute (BPM)</font>
                  </th>
                </tr>
                <tr>
                </tr>
                <tr>
                </tr>
              </table>
            </div>
          </div>

          <div class="mdl-color--grey-100 mdl-color-text--blue-grey-400 mdl-cell mdl-cell--4-col mdl-card--border">
            <div class="mdl-card__title">
              <h2 class="mdl-card__title-text mdl-color-text--blue-grey-400">
                <font size="5" face="Helvetica" color="#a13826"><b>My Productivity</b></font>
            </div>
            <div>
              <table style="width:100%">
                <tr>
                  <th>
                    <font size="7" face="Helvetica" color="black">100</font>
                  </th>
                </tr>
                <tr>
                </tr>
                <tr>
                  <th>
                    <font size="2" face="Helvetica">Keystrokes Per Minute (KPM)</font>
                  </th>
                </tr>
                <tr>
                </tr>
                <tr>
                </tr>
              </table>
            </div>
          </div>

          <div class="mdl-color--grey-100 mdl-color-text--blue-grey-400 mdl-cell mdl-cell--4-col mdl-card--border">
            <div class="mdl-card__title">
              <h2 class="mdl-card__title-text mdl-color-text--blue-grey-400">
                <font size="5" face="Helvetica" color="#a13826"><b>My Mood</b></font>
            </div>
            <div>
              <table style="width:100%">
                <tr>
                  <th>
                    <button id="mood-button" class="mdl-button mdl-js-button">
                      <i class="material-icons" style="font-size: 35px">
                        sentiment_very_satisfied
                      </i>
                    </button>
                  </th>
                  <th>
                    <button id="mood-button" class="mdl-button mdl-js-button">
                      <i class="material-icons" style="font-size: 35px">
                        sentiment_satisfied
                      </i>
                    </button>
                  </th>
                  <th>
                    <button id="mood-button" class="mdl-button mdl-js-button">
                      <i class="material-icons" style="font-size: 35px">
                        sentiment_very_dissatisfied
                      </i>
                    </button>
                  </th>
              </table>
            </div>
          </div>
        </div>

        <div class="mdl-color--grey-100 mdl-color-text--blue-grey-400 mdl-cell mdl-cell--12-col mdl-card--border">
          <div class="mdl-card__title">
            <h2 class="mdl-card__title-text mdl-color-text--blue-grey-400">
              <font size="5" face="Helvetica" color="#a13826"><b>Statistics</b></font>
          </div>
          <div>
            <canvas id="myChart" width="1000" height="400"></canvas>
          </div>
        </div>

        <div id="snackbar-toast" class="mdl-js-snackbar mdl-snackbar">
          <div class="mdl-snackbar__text"></div>
          <button class="mdl-snackbar__action" type="button"></button>
        </div>
      </div>
  </div>
  </main>
  </div>
  <script>
    // Global parameters:
    // do not resize the chart canvas when its container does (keep at 600x400px)
    Chart.defaults.global.responsive = false;

    // define the chart data
    var chartData = {
      labels: [{% for item in labels %}
    "{{item}}",
      {% endfor %}],
    datasets: [{
      label: 'Keystrokes',
      fill: true,
      lineTension: 0.1,
      backgroundColor: "rgba(75,192,192,0.4)",
      borderColor: "rgba(75,192,192,1)",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "rgba(75,192,192,1)",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(75,192,192,1)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data: [{% for item in values %}
                 {{ item }},
    {% endfor %}],
      spanGaps: false
   },
   {
      label: 'Blink Rate',
      fill: true,
      lineTension: 0.1,
      backgroundColor: "rgba(255, 206, 86, 0.8)",
      borderColor: "rgba(255, 206, 86, 0.8)",
      borderCapStyle: 'butt',
      borderDash: [],
      borderDashOffset: 0.0,
      borderJoinStyle: 'miter',
      pointBorderColor: "rgba(255, 206, 86, 0.8)",
      pointBackgroundColor: "#fff",
      pointBorderWidth: 1,
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(255, 206, 86, 0.8)",
      pointHoverBorderColor: "rgba(220,220,220,1)",
      pointHoverBorderWidth: 2,
      pointRadius: 1,
      pointHitRadius: 10,
      data: [{% for item in blinks %}
                 {{ item }},
    {% endfor %}],
      spanGaps: false
   },
  ]
 }

    // get chart canvas
    var holder = document.getElementById("myChart");
    var ctx = document.getElementById("myChart").getContext("2d");

    // create the chart using the chart canvas
    var myChart = new Chart(ctx, {
      type: 'line',
      data: chartData,
      options: {
        tooltips: {
          enabled: true,
          mode: 'single',
          callbacks: {
            label: function (tooltipItems, data) {
              return tooltipItems.yLabel + ' ';
            }
          }
        },
      }
    });

    // get the text element below the chart
    var pointSelected = document.getElementById("pointSelected");

    // create a callback function for updating the selected index on the chart
    holder.onclick = function (evt) {
      var activePoint = myChart.getElementAtEvent(evt);
      console.log(activePoint);
      console.log('x:' + activePoint[0]._view.x);
      console.log('maxWidth: ' + activePoint[0]._xScale.maxWidth);
      console.log('y: ' + activePoint[0]._view.y);
      console.log('index: ' + activePoint[0]._index);
      pointSelected.innerHTML = 'Point selected... index: ' + activePoint[0]._index;
    };

    var monthpicker = new MaterialDatepicker('input', {
      type: 'month',
      lang: 'de',
      orientation: 'portrait'
    });

  </script>

</body>

</html>